/* ===== VS Code 다크 테마 스타일 (수정된 버전) ===== */

/* ===== 메인 화면 설정 ===== */
Screen {
    align: center middle;
    background: #0d1117;
}

/* ===== 헤더 스타일링 ===== */
Header {
    background: #21262d;
    color: #f0f6fc;
    text-style: bold;
    border-bottom: solid #30363d;
}

/* ===== 채팅 컨테이너 (수정됨) ===== */
#chat-container {
    width: 92%;
    height: 96%;
    border: solid #30363d;
    background: #161b22;
    padding: 1;
    layout: vertical;  /* grid 대신 vertical 레이아웃 사용 */
}

/* ===== 메시지 컨테이너 (수정됨) ===== */
#message-container {
    width: 100%;
    height: 1fr;  /* 남은 공간을 모두 차지 */
    overflow-y: auto;
    border-bottom: solid #21262d;
    background: #0d1117;
    scrollbar-background: #161b22;
    scrollbar-color: #30363d;
    scrollbar-corner-color: #21262d;
    padding: 1;
}

/* ===== 입력 컨테이너 (수정됨) ===== */
#input-container {
    width: 100%;
    height: auto;  /* 고정 높이 대신 auto 사용 */
    min-height: 8;  /* 텍스트가 보이도록 높이 증가 */
    dock: bottom;   /* 하단에 고정 */
    background: #21262d;
    padding: 1;
    margin: 0;
    layout: vertical;
}

/* ===== 버튼 컨테이너 스타일 ===== */
#button-container {
    width: 100%;
    height: 4;
    layout: horizontal;
    align: center middle;
    margin: 1 0 0 0;
}

/* ===== 버튼 스타일 ===== */
#button-container Button {
    width: 1fr;
    height: 3;
    margin: 0 1;
    text-style: bold;
    content-align: center middle;
    background: transparent;
    border: solid #30363d;
}

#mode-button {
    color: #7dd3fc;
    border: solid #0ea5e9;
}

#mode-button:hover {
    background: rgba(14, 165, 233, 0.1);
    border: solid #0284c7;
}

#stream-button {
    color: #86efac;
    border: solid #22c55e;
}

#stream-button:hover {
    background: rgba(34, 197, 94, 0.1);
    border: solid #16a34a;
}

#clear-button {
    color: #fca5a5;
    border: solid #ef4444;
}

#clear-button:hover {
    background: rgba(239, 68, 68, 0.1);
    border: solid #dc2626;
}

/* ===== 입력 필드 스타일링 (수정됨) ===== */
Input {
    width: 100%;
    height: 3;
    margin: 0;
    background: #161b22;
    border: solid #238636;
    color: #f0f6fc;
    text-style: none;
}

Input:focus {
    border: solid #2ea043;
    background: #21262d;
}

Input > .input--placeholder {
    color: #7d8590;
    text-style: italic;
}

/* ===== 기본 채팅 메시지 스타일 ===== */
ChatMessage {
    width: 98%;
    padding: 1;
    margin: 1;
    height: auto;
    text-style: none;
    border-left: solid #1f6feb;
    background: #161b22;
    color: #e6edf3;
    layout: vertical;
}

/* ===== 메시지 헤더 (발신자 + 시간) 스타일 ===== */
ChatMessage Label {
    width: 100%;
    height: auto;
    padding: 0 1;
    background: transparent;
}

/* ===== 마크다운 콘텐츠 스타일 ===== */
ChatMessage Markdown {
    width: 100%;
    height: auto;
    padding: 1;
    background: transparent;
    color: #e6edf3;
}

/* ===== 마크다운 코드 블록 스타일 ===== */
ChatMessage Markdown .code {
    background: #0d1117;
    border: solid #30363d;
    color: #e6edf3;
    padding: 1;
    margin: 1 0;
}

/* ===== 마크다운 인라인 코드 스타일 ===== */
ChatMessage Markdown .inline-code {
    background: #21262d;
    color: #f85149;
    padding: 0 1;
}

/* ===== 사용자 메시지 스타일 ===== */
ChatMessage.user-message {
    background: #0969da;
    border-left: solid #1f6feb;
    margin: 1 2;
    color: #ffffff;
}

/* ===== 봇 메시지 스타일 ===== */
ChatMessage.bot-message {
    background: #21262d;
    border-left: solid #7c3aed;
    margin: 1 2;
    color: #f0f6fc;
}

/* ===== 시스템/환영 메시지 스타일 ===== */
ChatMessage.welcome-message {
    background: #0f5132;
    border-left: solid #238636;
    color: #aff5b4;
    text-align: center;
    margin: 1 3;
}

/* ===== 에러 메시지 스타일 ===== */
ChatMessage.error-message {
    background: #8b1538;
    border-left: solid #f85149;
    color: #ffdcd7;
    margin: 1 2;
}

/* ===== 타이핑 인디케이터 스타일 ===== */
ChatMessage.typing-indicator {
    background: #30363d;
    border-left: solid #58a6ff;
    color: #8b949e;
    margin: 1 2;
    opacity: 0.8;
}

/* ===== 로딩 인디케이터 스타일 ===== */
.typing-loading {
    width: 100%;
    height: 2;
    margin: 1;
    background: transparent;
}

/* ===== 스크롤바 스타일링 ===== */
ScrollableContainer > .scrollbar--vertical {
    background: #161b22;
    color: #30363d;
    width: 2;
}

ScrollableContainer > .scrollbar--vertical > .scrollbar--thumb {
    background: #484f58;
    color: #f0f6fc;
}

ScrollableContainer > .scrollbar--vertical:hover > .scrollbar--thumb {
    background: #656c76;
}

/* ===== 호버 효과 ===== */
ChatMessage:hover {
    background: #30363d;
}

ChatMessage.user-message:hover {
    background: #1158c7;
}

ChatMessage.bot-message:hover {
    background: #30363d;
}

/* ===== 코드 블록 스타일 (향후 사용) ===== */
ChatMessage .code-block {
    background: #30363d;
    border: solid #484f58;
    color: #e6edf3;
    padding: 1;
    margin: 1 0;
}

/* ===== 링크 스타일 ===== */
ChatMessage .link {
    color: #58a6ff;
    text-style: underline;
}

ChatMessage .link:hover {
    color: #79c0ff;
}